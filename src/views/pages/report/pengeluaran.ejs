<%- include('../../partials/header.ejs') -%>
   <div class="main-content">

      <div class="page-content">
         <div class="container-fluid">

            <!-- start page title -->
            <div class="page-title-box">
               <div class="row align-items-center">
                  <div class="col-md-8">
                     <h6 class="page-title">Data Pengeluaran</h6>
                  </div>
                  <div class="col-md-4">
                     <div class="float-end d-none d-md-block">
                        <!-- <button type="button" class="btn btn-primary waves-effect waves-light" data-bs-toggle="modal"
                           data-bs-target=".bs-example-modal-center">
                           <i class="fas fa-print"></i> Cetak</button> -->
                        <button type="button" class="btn btn-primary waves-effect waves-light" data-bs-toggle="modal"
                           data-bs-target=".bs-example-modal-center">
                           <i class="fas fa-plus"></i> Tambah</button>
                        <%- include('./popup-add-pengeluaran.ejs', {listCampaign:listCampaign}) -%>
                     </div>
                  </div>
               </div>
            </div>
            <!-- end page title -->



            <div class="row">
               <div class="col-12">
                  <div class="card">
                     <div class="card-body">

                        <h4 class="card-title">Data Pengeluaran</h4>

                        <div class="table-responsive">
                           <table class="table table-editable table-nowrap align-middle table-edits">
                              <thead>
                                 <tr>
                                    <th>Nomor</th>
                                    <th>Nama Campaign</th>
                                    <th>Keterangan</th>
                                    <th>Jumlah</th>
                                    <th>Tanggal</th>
                                    <th>Action</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <% if (listPengeluaran.length> 0) { %>
                                    <% listPengeluaran.map((pengeluaran, index)=> { %>
                                       <% console.log("pengeluaran-list-campaignDonasi",pengeluaran) %>
                                          <tr data-id="<%= index + 1 %>">
                                             <td data-field="nomor" style="width: 80px">
                                                <%= index + 1 %>
                                             </td>
                                             <td data-field="judul">
                                                <% if (pengeluaran.campaignDonasi) { %>
                                                   <%= pengeluaran.campaignDonasi.judul %>
                                                      <% } else { %>
                                                         -
                                                         <% } %>
                                             </td>
                                             <td data-field="keterangan">
                                                <%= pengeluaran.keterangan %>
                                             </td>
                                             <td data-field="jumlah">
                                                <%= pengeluaran.jumlah %>
                                             </td>
                                             <td data-field="tanggal">
                                                <%= pengeluaran.tanggal %>
                                             </td>
                                             <td style="width: 100px">
                                                <a class="btn btn-primary waves-effect waves-light"
                                                   data-bs-toggle="modal"
                                                   data-bs-target="#detail<%= pengeluaran.id %>id">
                                                   <i class="fas fa-eye"></i>
                                                </a>
                                                <a class="btn btn-warning waves-effect waves-ligh" title="Edit"
                                                   data-bs-toggle="modal" data-bs-target="#edit<%= pengeluaran.id %>id">
                                                   <i class="fas fa-pencil-alt"></i>
                                                </a>
                                                <a class="btn btn-danger waves-effect waves-ligh" title="Delete"
                                                   data-bs-toggle="modal" data-bs-target="#edit<%= pengeluaran.id %>id">
                                                   <i class="fas fa-trash-alt"></i>
                                                </a>
                                             </td>
                                          </tr>
                                          <% }) %>
                                             <% } else { %>
                                                <tr>
                                                   <td colspan="7" class="text-center">Data tidak ditemukan</td>
                                                </tr>
                                                <% } %>


                              </tbody>
                              <!-- end tbody -->
                           </table>
                           <!-- end table -->
                        </div>
                        <!-- end -->
                     </div>
                  </div>
               </div> <!-- end col -->
            </div> <!-- end row -->

         </div> <!-- container-fluid -->
      </div>
      <!-- End Page-content -->

   </div>
   <%- include('../../partials/footer.ejs') -%>